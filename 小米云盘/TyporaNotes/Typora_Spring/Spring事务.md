# Spring事务

## 定义

Spring对事务的支持是指Spring框架提供了一套简洁灵活的编程模型，用于在Java应用程序中管理事务。Spring通过抽象化底层事务管理API，使开发者能够更方便地在不同的持久化技术（如JDBC、JPA、Hibernate等）中实现事务控制。

## 组成部分

1.事务管理器（Transaction Manager）：Spring的核心组件，负责协调事务的开始、提交和回滚。
2.事务注解：例如@Transactional注解，用于声明事务性行为。
3.事务传播机制：定义事务如何在方法之间传播（例如，当前事务如何与另一个事务交互）。

## 结构形式

### 1.编程式事务管理：通过代码显式地管理事务边界。

### 2.声明式事务管理：

①基于注解方式

②基于XML配置方式

## 分类

1.局部事务：仅限于单个数据库操作或资源。
2.全局事务：涉及多个资源（如多个数据库或消息队列）的事务。

## 作用

Spring事务支持可以在各种持久化层中提供数据的一致性，简化了事务管理代码，减少开发复杂度。

## 目的

Spring对事务的支持旨在简化事务管理，提供声明式编程方式，以便开发者可以专注于业务逻辑，而不用关心底层的事务管理实现。

## 基本原理

Spring使用AOP（面向切面编程）来实现声明式事务管理。通过拦截方法调用，Spring在方法调用前后管理事务边界，控制事务的开始、提交或回滚。

## 使用方法

### 1.声明式事务管理

在业务方法上使用@Transactional注解即可。

### 2.编程式事务管理

通过TransactionTemplate或PlatformTransactionManager接口进行显式事务管理。