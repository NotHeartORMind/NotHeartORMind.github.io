# BGP协议（应用层）

## 定义

BGP（Border Gateway Protocol，边界网关协议）是一种用于在互联网中交换路由信息的标准协议。它主要用于控制互联网中不同自治系统（AS）之间的路由选择。

## 组成部分

### 1.路由器

运行BGP协议的设备，负责与其他BGP路由器交换路由信息。

### 2.BGP会话

建立在TCP连接上，用于交换路由信息。

### 3.路由策略

定义路由器如何选择和传播路由信息的规则和配置。

### 4.路由信息库（RIB）

存储BGP路由器已知的所有路由信息。

### 5.BGP决策过程

决定最佳路径的算法，基于各种属性如AS路径长度、路由前缀长度等。

## 结构形式

1.BGP协议报文

![image-20240622220139732](../TyporaImage/image-20240622220139732.png)

## 分类

### 1.外部BGP（eBGP）

### 2.内部BGP（iBGP）

## 特征：

1.BGP是一种路径矢量协议，它不仅考虑网络拓扑结构，还考虑政策和策略。
2.BGP通过TCP连接传输路由信息，具有可靠性和安全性。
3.BGP支持复杂的路由策略和过滤规则，允许网络管理员细粒度地控制路由选择。

## 相关知识点

1.BGP-4的四种报文

![image-20240622220252826](../TyporaImage/image-20240622220252826.png)

2.RIP、OSPF、BGP的对比

![image-20240622220414783](../TyporaImage/image-20240622220414783.png)

![image-20240622220421165](../TyporaImage/image-20240622220421165.png)