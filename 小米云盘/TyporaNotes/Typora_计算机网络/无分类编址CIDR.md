# 无分类编址CIDR

## 定义

无类别域间路由（CIDR，Classless Inter-Domain Routing）是一种IP地址分配和路由方法，用于替代传统的基于类的IP地址分配方法。CIDR通过灵活的子网掩码和地址前缀长度，提供更高效和精细的IP地址管理和路由。

## 组成部分

### 1.IP地址前缀

CIDR地址由一个IP地址和一个斜杠后跟的前缀长度组成。例如，192.168.1.0/24，其中/24表示前缀长度为24位。

### 2.前缀长度

表示网络部分的位数，范围是0到32，对于IPv4地址。

### 3.子网掩码

由前缀长度决定的二进制数，用于划分网络部分和主机部分。

## 结构形式

### 1.CIDR表示法

IP地址/前缀长度，例如192.168.1.0/24。

### 2.二进制表示

将前缀长度转化为二进制子网掩码，例如/24对应的子网掩码是255.255.255.0。



## 使用方法

1.构成超网

![image-20240622200258687](../TyporaImage/image-20240622200258687.png)





## 相关知识点

### 1.最长前缀匹配

最长前缀匹配（Longest Prefix Match, LPM）是一种路由选择算法，用于在路由器中选择最合适的路由。当一个数据包到达路由器时，路由器会查找其路由表，并选择与目的地址匹配的最长前缀（子网掩码最长）的路由条目，从而决定数据包的转发路径。

### 2.路由表

#### 定义

路由表（Routing Table）是网络设备（如路由器和主机）中保存的一个数据结构，用于存储网络目的地的信息和转发数据包所需的路径。它包含网络地址、子网掩码、下一跳地址和接口等信息。

#### 组成部分

1.目的网络

目标网络的IP地址前缀。

2.子网掩码

用于确定目标网络的范围。

3.下一跳地址

将数据包转发到下一个网络节点的IP地址。

4.接口

通过哪个网络接口发送数据包。

#### 结构形式

##### 1.条目

每个路由表包含多个条目，每个条目描述一条路由。

##### 2.CIDR表示法

使用CIDR表示网络前缀和掩码，如192.168.1.0/24。

#### 分类

##### 1.静态路由

手动配置的固定路由条目。

##### 2.动态路由

通过路由协议动态学习和更新的路由条目。


#### 特征

1.动态性：可以通过路由协议自动更新。
2.精确性：包含详细的网络路径信息。
3.高效性：通过快速查找确定数据包的转发路径。



### 3.转发表

#### 定义

转发表（Forwarding Table）是网络设备中用于数据包转发的一个数据结构。它根据路由表中的信息构建，包含具体的转发路径和接口信息，用于快速决定数据包的转发路径。

#### 组成部分

##### 1.目的地址前缀

与路由表中的前缀一致。

##### 2.下一跳地址

数据包应转发到的下一个节点。

##### 3.接口

具体的物理或虚拟网络接口。

#### 结构形式

##### 1.条目

每个转发表包含多个条目，每个条目描述一个转发路径。

##### 2.直接映射

通过目的地址快速查找到具体的转发路径。

#### 分类

1.基于硬件

存储在网络设备的硬件中，提供高速转发。

2.基于软件

存储在网络设备的软件中，灵活性高。


#### 特征

1.高速性：提供快速的数据包转发能力。
2.实时性：实时更新，反映最新的网络状态。
3.高效性：简化查找过程，提高数据包处理效率。

### 4.转发表和路由表之间的关系

转发表是基于路由表生成的。路由表中包含了详细的路由信息，转发表从中提取必要的信息来构建具体的转发路径。